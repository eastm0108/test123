(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60a4ee7a"],{9406:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard-container"},[e("ul",{staticClass:"branchInfoList"},[e("li",{staticClass:"branchInfoList__title"},[e("div",{staticClass:"branchInfoList__title__col"},[t._v("名次∕分店")]),t._l(t.keyNames,(function(a,n){return e("div",{key:n,staticClass:"branchInfoList__title__col"},[t._v(" "+t._s(a)+" ")])}))],2),t.branchList.length<=0?e("li",{staticClass:"branchInfoList--empty"},[e("p",[t._v("無資料")])]):t._l(t.branchList,(function(a,n){return e("li",{key:a.id,staticClass:"branchInfoList__item"},[e("div",{staticClass:"branchInfoList__item__info ranking"},[e("p",[t._v("第"+t._s(a.rank)+"名")]),e("p",[t._v(t._s(a.area))]),e("p",[t._v(t._s(a.name))]),e("el-button",{staticClass:"branchDetailBtn",on:{click:function(e){return t.opendBranchDetailDialog(a.id,n)}}},[e("svg-icon",{staticClass:"icon",attrs:{"icon-class":"detail"}}),t._v("詳細資料")],1)],1),t._l(a.results,(function(n,r){return e("div",{key:r,staticClass:"branchInfoList__item__info",class:{chart:"人"!==n.unit,referrals:"人"===n.unit}},["人"!==n.unit?[e("ve-gauge",{attrs:{settings:t.chartSettings,data:t.percentage(n.value,a.kpi[r].value),width:"240px",height:"240px"}}),e("p",[t._v("當前業績/目標："+t._s(n.value)+"/"+t._s(a.kpi[r].value)+" "+t._s(n.unit))])]:[e("p",[t._v("當月人數")]),e("p",[t._v(t._s(n.value)+"人")])]],2)}))],2)}))],2),e("BranchDetailDialog",{ref:"BranchDetailDialog",attrs:{registed:"dashboard",branchDetails:t.branchDetail},on:{onPageClick:t.handlePage}})],1)},r=[],s=(e("96cf"),e("1da1")),i=e("5530"),c=e("2f62"),o=e("73f5"),l=e("b00c"),u=e("b08f"),h={name:"Dashboard",components:{BranchDetailDialog:u["a"]},computed:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["name"])),{},{branchList:function(){return this.$store.state.navbarInfo.dashboard.list},keyNames:function(){return this.$store.state.navbarInfo.dashboard.keyNames},branchDetail:function(){return this.$store.state.navbarInfo.dashboard.detail}}),data:function(){return{chartSettings:{dataType:{},seriesMap:{"百分比":{detail:{formatter:"{value}%",offsetCenter:[5,"70%"]},axisLabel:{}}}},branchInfoList:[],chartData1:{columns:["type","value"],rows:[{type:"百分比",value:80}]},chartData2:{columns:["type","value"],rows:[{type:"百分比",value:55}]},chartData3:{columns:["type","value"],rows:[{type:"百分比",value:72}]}}},created:function(){},methods:{getStoreDetails:function(t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a,e.prev=1,e.next=4,Object(o["d"])(t);case 4:if(r=e.sent,r.status!==l["a"].success){e.next=8;break}return n.$store.dispatch("navbarInfo/setDashboardDetail",r.data),e.abrupt("return",!0);case 8:return n.sentMessage("取得分店資訊錯誤","error"),e.abrupt("return",!1);case 12:return e.prev=12,e.t0=e["catch"](1),console.log("取得分店資訊錯誤",e.t0),n.sentMessage("取得分店資訊錯誤","error"),a.$store.dispatch("app/toggleLoading",!1),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})))()},sentMessage:function(t,a){var e="success"===a?"成功":"錯誤";this.$notify({type:a,title:e,message:t})},opendBranchDetailDialog:function(t,a){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e,n.prev=1,n.next=4,r.getStoreDetails(t);case 4:s=n.sent,s&&(r.$store.dispatch("navbarInfo/setDashboardIndex",a),r.$refs.BranchDetailDialog.opend()),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},percentage:function(t,a){var e=0;return 0!=t&&0!=a||(e=0),e=Math.round(t/a*1e4)/100,{columns:["type","value"],rows:[{type:"百分比",value:e}]}},handlePage:function(t){var a=this,e=a.$store.state.navbarInfo.dashboard.index;switch(a.$store.dispatch("app/toggleLoading",!0),t){case"pre":e-=1;break;case"next":e+=1;break;default:break}var n=a.$store.state.navbarInfo.dashboard.list[e].id;a.$refs.BranchDetailDialog.close(),a.opendBranchDetailDialog(n,e)}}},d=h,p=(e("a364"),e("2877")),b=Object(p["a"])(d,n,r,!1,null,"514d30cb",null);a["default"]=b.exports},"97d1":function(t,a,e){},a364:function(t,a,e){"use strict";var n=e("97d1"),r=e.n(n);r.a}}]);